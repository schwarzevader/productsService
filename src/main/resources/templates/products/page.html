<!DOCTYPE html>
<html lang="en" xmlns:sec="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
  <link rel="stylesheet" type="text/css" href="../../static/bootstrap/bootstrap-grid.css"/>

  <meta charset="UTF-8">
  <title>All product</title>



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Bootstrap demo</title>
<!--  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">-->

<!--  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>-->

<!--  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js" integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk" crossorigin="anonymous"></script>-->

<!--  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-kjU+l4N0Yf4ZOJErLsIcvOU2qSb74wXpOhqTvwVx3OElZRweTnQ6d31fXEoRD1Jy" crossorigin="anonymous"></script>-->

  <script type="text/javascript">
    function clearSearch() {
      window.location = "[[@{/}]]";
    }
  </script>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">



<!--  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>-->

<!--  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>-->

<!--  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>-->




  <link rel="stylesheet" th:href="@{/bootstrap.min.css}">
  <script th:src="@{/bootstrap.min.js}" ></script>
  <script th:src="@{/bootstrap.js}" ></script>
  <script th:src="@{/bootstrap.min.js}" ></script>
  <script th:src="@{/bootstrap.esm.min.js}" ></script>
  <script th:src="@{/jquery-3.6.0.min.js}" ></script>



</head>


<body>


<div   th:insert="fragments/bootstrapnavbaradmin.html :: bootsnavbar"></div>
<!--<div th:insert="fragments/bootstrapheader::bootsnavbarh"></div>-->

<!--<div   th:insert="fragments/bootstrapnavbaradmin.html :: bootsnavbar"></div>-->


<!--<div  sec:authorize="hasRole('ADMIN')" th:insert="fragments/bootstrapnavbaradmin.html :: bootsnavbar"></div>-->
<!--<div sec:authorize="hasRole('USER')" th:insert="fragments/bootstrapnavbaruser.html :: bootsnavbaruser"></div>-->
<!--<div sec:authorize="hasRole('anonymous')" th:insert="fragments/bootstrapnavbarnotauth.html :: bootsnavbarnot "></div>-->

<form th:action="@{/}">
  Filter: <input type="text" name="keyword" id="keyword" size="50" th:value="${keyword}" required />
  &nbsp;
  <input type="submit" value="Search" />
  &nbsp;
  <input type="button" value="Clear" id="btnClear" onclick="clearSearch()" />
</form>


<div class="container-fluid" align="center">
  <div class="row row-cols-1 row-cols-md-5 g-3"   >
    <div th:each="product :${listProducts}">
      <div class="card" style="width: 17rem;">
        <img src="..." class="card-img-top" alt="...">
        <div class="card-body">
          <h5 class="card-title"  >
            <a th:text="${product.name}" th:href="@{'/products/product/'+${product.id}}"></a>
          </h5>
          <p class="card-text" th:text="${'price '+product.price+' $'}"></p>
          <!--                        <p class="card-text" th:text="${product.description}"></p>-->
          <p class="card-text" th:text="${product.description}"></p>
          <!--                        <a href="#" class="btn btn-primary">Go somewhere</a>-->

<!--          <div class="btn-group">-->


<!--            <div th:if="${!cartDao.inCart(#authentication.name,product.id)}">-->
<!--              <a  th:href="@{'/products/addToCart/'+ ${product.id}+'/'+${currentPage}}" class="btn btn-outline-success" role="button" >-->
<!--                &lt;!&ndash;                            add to cart&ndash;&gt;-->
<!--                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cart3" viewBox="0 0 16 16">-->
<!--                  <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .49.598l-1 5a.5.5 0 0 1-.465.401l-9.397.472L4.415 11H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l.84 4.479 9.144-.459L13.89 4H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>-->
<!--                </svg>-->
<!--              </a>-->
<!--            </div>-->


<!--            <div th:if="${cartDao.inCart(#authentication.name,product.id)}">-->
<!--              <a th:href="@{'/products/delFromCart/'+ ${product.id}+'/'+${currentPage}}" class="btn btn-success" role="button" >-->
<!--                &lt;!&ndash;                            del from cart&ndash;&gt;-->
<!--                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cart-check-fill" viewBox="0 0 16 16">-->
<!--                  <path d="M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-1.646-7.646-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L8 8.293l2.646-2.647a.5.5 0 0 1 .708.708z"/>-->
<!--                </svg>-->
<!--              </a>-->
<!--            </div>-->


<!--            <div>-->

              <!--/*@thymesVar id="wishlistDao" type="com.shop.product.controller.ProductControllerImp"*/-->
<!--              <div th:if="${wishlistDao.inWLByMail(#authentication.name,product.id)}">-->
<!--                <a th:href="@{'/products/del/'+ ${product.id}+'/'+${currentPage}}" class="btn btn-outline-primary" role="button" >-->
<!--                  &lt;!&ndash;                                del from WL&ndash;&gt;-->
<!--                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart-fill" viewBox="0 0 16 16">-->
<!--                    <path fill-rule="evenodd" d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"/>-->
<!--                  </svg>-->
<!--                </a>-->
<!--              </div>-->
<!--              <div th:if="${!wishlistDao.inWLByMail(#authentication.name,product.id)}">-->
<!--                <a th:href="@{'/products/addToWL/'+ ${product.id}+'/'+${currentPage}}" class="btn btn-outline-primary" role="button" >-->
<!--                  &lt;!&ndash;                                add to WL&ndash;&gt;-->
<!--                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart" viewBox="0 0 16 16">-->
<!--                    <path d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"/>-->
<!--                  </svg>-->
<!--                </a>-->
<!--              </div>-->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>




<br>


<div>
<!--  -->
  <div th:if="${totalPages > 1 }">
    <nav  >
      <ul class="pagination justify-content-center flex-wrap"  th:with="pagePrefix = '/products/page/}'">
        <!--                class="page-item disabled"-->
        <li >

          <a th:if="${currentPage > 1}" th:href="@{'/products/page/' + ${1}}" class="page-link">First page</a>
          <a th:unless="${currentPage > 1}" class="page-link" >First page</a>
        </li>

        <li th:if="${currentPage > 1 }" th:class="${currentPage >1 ?'page-item' : 'page-item disabled' }">
          <a  th:href="@{'/products/page/' + ${currentPage -1}}" class="page-link">Previous</a>
        </li>

        <!--                <li th:if="${totalPage < 5 }" th:each="i:${#numbers.sequence(1,totalPage)}">-->
        <!--                    <a  th:href="@{'/products/page/' + ${i}}" class="page-link">[[${i}]]</a> &nbsp; &nbsp;-->
        <!--                </li>-->
        <th:block th:if="${totalPages <= 10 }" >
          <li th:each="i:${#numbers.sequence(1,totalPages)}"  th:class="${currentPage != i ?'page-item' : 'page-item disabled' }">
            <a  th:href="@{'/products/page/' + ${i}}" class="page-link" >[[${i}]]</a> &nbsp; &nbsp;
          </li>
        </th:block>

        <th:block  th:if="${totalPages > 10 }" >
          <th:block th:if="${currentPage<=5 || currentPage > totalPages - 4}" >
            <li th:each="i:${#numbers.sequence(1,5)}" th:class="${currentPage != i ?'page-item' : 'page-item disabled' }" >
              <a  th:href="@{'/products/page/' + ${i}}" class="page-link"  >[[${i}]]</a> &nbsp; &nbsp;
            </li>

            <li >
              <a th:href="@{'/products/page/' + 6}" class="page-link">...</a>
            </li>

            <li th:each="i:${#numbers.sequence(totalPages -4 , totalPages)}" th:class="${currentPage != i ?'page-item' : 'page-item disabled' }">
              <a  th:href="@{'/products/page/' + ${i}}" class="page-link">[[${i}]]</a> &nbsp; &nbsp;
            </li>
          </th:block>

          <th:block th:if="${currentPage > 5  && currentPage < totalPages - 3 }">
            <li>
              <a th:href="@{'/products/page/' + ${currentPage - 5}}" class="page-link">...</a>
            </li>

            <li th:each="i:${#numbers.sequence(currentPage -4 , totalPages)}" th:class="${currentPage != i ?'page-item' : 'page-item disabled' }" >
              <a  th:href="@{'/products/page/' + ${i}}" class="page-link">[[${i}]]</a> &nbsp; &nbsp;
            </li>

            <li >
              <a th:href="@{'/products/page/' + ${currentPage + 5}}" class="page-link">...</a>
            </li>
          </th:block>
        </th:block>

        <!--                <li th:if="${totalPage > 10 }" th:each="i:${#numbers.sequence(1,totalPage)}">-->
        <!--                    <a  th:href="@{'/products/page/' + ${i}}" class="page-link">[[${i}]]</a> &nbsp; &nbsp;-->
        <!--                </li>-->

        <li th:if="${currentPage < totalPages}">
          <a  th:href="@{'/products/page/' + ${currentPage +1}}" class="page-link">Next</a>
        </li>

        <li>
          <a th:if="${currentPage < totalPages}" th:href="@{'/products/page/' + ${totalPages}}" class="page-link">Last page</a>
          <a th:unless="${currentPage < totalPages}" class="page-link" >Last page</a>
        </li>
        <li>

        </li>
      </ul>
    </nav>
    </nav>
  </div>
</div>

</body>

</html>